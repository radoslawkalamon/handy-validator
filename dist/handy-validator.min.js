"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},txt={ARGUMENTS:{VALIDATOR:{IS_NOT_A_STRING:"ARGUMENTS_VALIDATOR_IS_NOT_A_STRING | [...]",IS_EMPTY:"ARGUMENTS_VALIDATOR_IS_EMPTY | [...]",ERROR:"ARGUMENTS_VALIDATOR_ERROR | [...]"}},VALIDATOR:{UNKNOWN:"VALIDATOR_UNKNOWN | %s | [...]",RETHINK:"VALIDATOR_RETHINK | [...]"},STRING:{NO_APOSTROPHES:"STRING_NO_APOSTROPHES | [...]"},ISEQUALTO:{NO_VALUES_PASSED:"ISEQUALTO_NO_VALUES_PASSED | [...]"}},regExp={operators:{smallerThanOrEqual:"<=",smallerThan:"<",biggerThanOrEqual:">=",biggerThan:">",equalTo:"=",notEqualTo:"!="},numbers:{real:/-?\d+[,.]*\d*$/,infinity:/^-?Infinity$/,nan:/^-?NaN$/},misc:{comma:",",textInApostrophe:/'(.*?)'/g}};function createValidator(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if("string"!=typeof r)throw new Error(txt.ARGUMENTS.VALIDATOR.IS_NOT_A_STRING);var n="VALIDATOR_ESC_HANDY_VALIDATOR_",e=r.match(regExp.misc.textInApostrophe);if(null===e)return r.split("|");var t=r;e.forEach(function(r,e){t=t.replace(r,""+n+e)});var a=t.split("|");return e.forEach(function(e,t){a=a.map(function(r){return r.replace(""+n+t,e)})}),a}function validatorArray(r,f){return-1===r.map(function(r,e){if(0===e)return Array.isArray(f);if(r[0]===regExp.operators.smallerThan){var t=r.slice(1),n=t.match(regExp.numbers.real);if(null!==n)return f.length<parseFloat(n[0]);var a=t.match(regExp.numbers.infinity);if(null!==a)return f.length<parseFloat(a[0])}if(r[0]===regExp.operators.biggerThan){var o=r.slice(1),l=o.match(regExp.numbers.real);if(null!==l)return f.length>parseFloat(l[0]);var i=o.match(regExp.numbers.infinity);if(null!==i)return f.length>parseFloat(i[0])}if(r[0]===regExp.operators.equalTo){var u=r.slice(1),s=u.match(regExp.numbers.real);if(null!==s)return f.length===parseFloat(s[0]);var p=u.match(regExp.numbers.infinity);if(null!==p)return f.length===parseFloat(p[0])}return console.warn(txt.VALIDATOR.UNKNOWN,r),!1}).indexOf(!1)}function validatorBoolean(r,e){return"boolean"==typeof e}var stripApostropheFromString=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=r.length-1;if("'"===r[0]&&"'"===r[e])return r.slice(1,e);throw new Error(txt.STRING.NO_APOSTROPHES)},prepareString=function(r,e){var t=r.slice(e);return stripApostropheFromString(t)};function validatorIsEqualTo(r,n){var e=r.map(function(r,e){if(0===e)return!1;var t=prepareString(r);return n===t});return e.length<2&&console.warn(txt.ISEQUALTO.NO_VALUES_PASSED),2<=e.length&&-1!==e.indexOf(!0)}function validatorNumber(r,T){return-1===r.map(function(r,e){if(0===e)return"number"==typeof T;if(r.slice(0,2)===regExp.operators.biggerThanOrEqual){var t=r.slice(2),n=t.match(regExp.numbers.real);if(null!==n)return T>=parseFloat(n[0]);var a=t.match(regExp.numbers.infinity);if(null!==a)return T>=parseFloat(a[0])}if(r.slice(0,2)===regExp.operators.smallerThanOrEqual){var o=r.slice(2),l=o.match(regExp.numbers.real);if(null!==l)return T<=parseFloat(l[0]);var i=o.match(regExp.numbers.infinity);if(null!==i)return T<=parseFloat(i[0])}if(r[0]===regExp.operators.smallerThan){var u=r.slice(1),s=u.match(regExp.numbers.real);if(null!==s)return T<parseFloat(s[0]);var p=u.match(regExp.numbers.infinity);if(null!==p)return T<parseFloat(p[0])}if(r[0]===regExp.operators.biggerThan){var f=r.slice(1),c=f.match(regExp.numbers.real);if(null!==c)return T>parseFloat(c[0]);var E=f.match(regExp.numbers.infinity);if(null!==E)return T>parseFloat(E[0])}if(r[0]===regExp.operators.equalTo){var g=r.slice(1),m=g.match(regExp.numbers.real);if(null!==m)return T===parseFloat(m[0]);var A=g.match(regExp.numbers.infinity);if(null!==A)return T===parseFloat(A[0])}return console.warn(txt.VALIDATOR.UNKNOWN,r),!1}).indexOf(!1)}function validatorNull(r,e){return null===e&&"object"===(void 0===e?"undefined":_typeof(e))}function validatorObject(r,e){return null!==e&&!Array.isArray(e)&&"object"===(void 0===e?"undefined":_typeof(e))}function validatorString(r,a){return-1===r.map(function(r,e){if(0===e)return"string"==typeof a;if(r.slice(0,regExp.operators.notEqualTo.length)===regExp.operators.notEqualTo){var t=prepareString(r,regExp.operators.notEqualTo.length);return a!==t}if(r[0]!==regExp.operators.equalTo)return console.warn(txt.VALIDATOR.UNKNOWN,r),!1;var n=prepareString(r,regExp.operators.equalTo.length);return a===n}).indexOf(!1)}function validatorUndefined(r,e){return void 0===e&&void 0===e}function handyValidator(r,e){var t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=createValidator(r);switch(n[0].toLowerCase()){case"string":return validatorString(n,e);case"number":return validatorNumber(n,e);case"array":return validatorArray(n,e);case"object":return!0!==t&&validatorObject(n,e);case"undefined":return validatorUndefined(n,e);case"null":return validatorNull(n,e);case"boolean":return validatorBoolean(n,e);case"isequalto":return validatorIsEqualTo(n,e);default:throw new Error(txt.ARGUMENTS.VALIDATOR.ERROR)}}module.exports=handyValidator;